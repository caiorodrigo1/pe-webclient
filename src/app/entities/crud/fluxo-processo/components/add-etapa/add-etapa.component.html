<!-- <header class="modal-header bg" style="background-color: #f0f1f2">
  <h5 id="event-type-heading" style="font-weight: bold">Etapa do Fluxo</h5>
  <button style="display: none"></button>
  <p-button
    icon="pi pi-times"
    styleClass="p-button-secondary p-button-sm  p-button-text"
    (click)="fechar()"
  ></p-button>
</header> -->

<main class="formulario">
  <section class="row">
    <div class="col-md-12">
      <label for="campo_nome_etapa" class="label-campo">
        <strong>Nome:</strong> <span class="text-danger">*</span></label
      >

      <div class="p-input-icon-right w-100">
        <input
          pInputText
          id="campo_nome_etapa"
          name="nome_etapa"
          type="text"
          maxlength="50"
          class="p-inputtext-sm"
          [(ngModel)]="etapa.nome"
        />
      </div>
    </div>
  </section>

  <section class="row">
    <div class="col-md-12 d-flex flex-column">
      <label for="campo_orgao_etapa" class="label-campo">
        <strong>Orgão:</strong>
        <span class="text-danger">*</span>
      </label>

      <div class="p-input-icon-right">
        <p-dropdown
          inputId="campo_orgao_etapa"
          name="orgao_etapa"
          [options]="orgaos"
          optionLabel="sigla"
          placeholder="Selecione o Órgão"
          [filter]="true"
          filterBy="sigla"
          filterPlaceholder="Procurar Órgão"
          emptyFilterMessage="Nenhum resultado encontrado"
          dataKey="id"
          (ngModelChange)="onChangeOrgao($event.id)"
          [(ngModel)]="etapa.orgao"
        ></p-dropdown>
      </div>
    </div>
  </section>

  <section class="row">
    <div class="col-md-12 d-flex flex-column">
      <label for="campo_setor_etapa" class="label-campo">
        <strong>Setor:</strong>
        <span class="text-danger">*</span>
      </label>

      <div class="p-input-icon-right">
        <p-dropdown
          inputId="campo_setor_etapa"
          name="setor_etapa"
          [options]="setores"
          placeholder="Selecione o Setor"
          [filter]="true"
          filterBy="descricao"
          filterPlaceholder="Procurar Setor"
          emptyFilterMessage="Nenhum resultado encontrado"
          dataKey="id"
          [(ngModel)]="etapa.setor"
          [disabled]="setores.length == 0"
        >
          <ng-template let-item pTemplate="selectedItem">
            {{ item.descricao }}
          </ng-template>
          <ng-template let-item pTemplate="item">
            {{ item.descricao }}
          </ng-template>
        </p-dropdown>
      </div>
    </div>
  </section>

  <section class="row">
    <div class="col-md-12 d-flex flex-column">
      <label for="campo_tipoDocumento" class="label-campo">
        <strong>Tipo de Documento:</strong>
        <span class="text-danger">*</span></label
      >
      <div class="p-input-icon-right">
        <p-dropdown
          inputId="campo_tipoDocumento"
          name="tipoDocumento_etapa"
          [options]="tiposDocumento"
          placeholder="Selecione o tipo de documento"
          [filter]="true"
          filterBy="nome"
          filterPlaceholder="Procurar Tipo de Documento"
          emptyFilterMessage="Nenhum resultado encontrado"
          dataKey="id"
          [(ngModel)]="etapa.tipoDocumento"
        >
          <ng-template let-item pTemplate="selectedItem">
            {{ item.nome }}
          </ng-template>
          <ng-template let-item pTemplate="item">
            {{ item.nome }}
          </ng-template>
        </p-dropdown>
      </div>
    </div>
  </section>

  <section class="row">
    <div class="col-md-12">
      <label for="campo_descricao" class="label-campo">
        <strong>Descrição:</strong> <span class="text-danger">*</span></label
      >
      <div class="p-input-icon-right w-100">
        <textarea
          pInputTextarea
          id="campo_descricao"
          name="descricao"
          [(ngModel)]="etapa.descricao"
          [autoResize]="true"
        ></textarea>
      </div>
    </div>
  </section>

  <hr />

  <footer class="d-flex justify-content-end">
    <button class="btn btn-primary" (click)="adicionar()">Adicionar</button>
  </footer>
</main>
